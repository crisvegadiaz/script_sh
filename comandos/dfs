#!/bin/bash
# Colocar en: /usr/bin

# FunciÃ³n para mostrar texto con colores
function texColor() {
    mensaje="$1"
    tipo="$2"
    
    declare -A colores=(
        [red]=31
        [green]=32
        [yellow]=33
        [blue]=34
        [purple]=35
    )
    
    if [[ ${colores[$tipo]} ]]; then
        echo -e "\e[${colores[$tipo]}m${mensaje}\e[0m"
    fi
}

# Verificar el sistema operativo
os=$(grep '^ID=' /etc/os-release | cut -d= -f2)

# Limpiar la pantalla
clear

# Actualizar el sistema segÃºn la distribuciÃ³n
case "$os" in
    fedora)
        texColor '+-------------------------------------+' green
        texColor '|     ğ™‡ğ™„ğ™ğ™ğ˜¼ ğ˜¿ğ™€ ğ˜¼ğ˜¾ğ™ğ™ğ˜¼ğ™‡ğ™„ğ™•ğ˜¼ğ˜¾ğ™„ğ™Šğ™‰ğ™€ğ™ ğ˜¿ğ™‰ğ™    |' green
        texColor '+-------------------------------------+' green
        printf "\n"
        sudo dnf update -y
    ;;
    arch)
        texColor '+-------------------------------------+' green
        texColor '|     ğ™‡ğ™„ğ™ğ™ğ˜¼ ğ˜¿ğ™€ ğ˜¼ğ˜¾ğ™ğ™ğ˜¼ğ™‡ğ™„ğ™•ğ˜¼ğ˜¾ğ™„ğ™Šğ™‰ğ™€ğ™ ğ™‹ğ˜¼ğ˜¾ğ™ˆğ˜¼ğ™‰    |' green
        texColor '+-------------------------------------+' green
        printf "\n"
        sudo pacman -Syu --noconfirm
    ;;
    ubuntu|debian)
        texColor '+-------------------------------------+' green
        texColor '|     ğ™‡ğ™„ğ™ğ™ğ˜¼ ğ˜¿ğ™€ ğ˜¼ğ˜¾ğ™ğ™ğ˜¼ğ™‡ğ™„ğ™•ğ˜¼ğ˜¾ğ™„ğ™Šğ™‰ğ™€ğ™ ğ˜¼ğ™‹ğ™    |' green
        texColor '+-------------------------------------+' green
        printf "\n"
        sudo apt update && sudo apt upgrade -y
    ;;
    *)
        texColor 'âœ— Sistema operativo no soportado.' red
        exit 1
    ;;
esac

# Separador
texColor 'â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„' green
printf "\n"

# Actualizar Flatpak
texColor '+-------------------------------------+' blue
texColor '|  ğ™‡ğ™„ğ™ğ™ğ˜¼ ğ˜¿ğ™€ ğ˜¼ğ˜¾ğ™ğ™ğ˜¼ğ™‡ğ™„ğ™•ğ˜¼ğ˜¾ğ™„ğ™Šğ™‰ğ™€ğ™ ğ™ğ™‡ğ˜¼ğ™ğ™‹ğ˜¼ğ™†   |' blue
texColor '+-------------------------------------+' blue
printf "\n"
flatpak update -y
texColor 'â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„' blue
printf "\n"

# Actualizar Snap
texColor '+-------------------------------------+' red
texColor '|     ğ™‡ğ™„ğ™ğ™ğ˜¼ ğ˜¿ğ™€ ğ˜¼ğ˜¾ğ™ğ™ğ˜¼ğ™‡ğ™„ğ™•ğ˜¼ğ˜¾ğ™„ğ™Šğ™‰ğ™€ğ™ ğ™ğ™‰ğ˜¼ğ™‹   |' red
texColor '+-------------------------------------+' red
printf "\n"
sudo snap refresh
texColor 'â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„' red
printf "\n"
